<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Responsive Turnstile Test</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .test-section { border: 1px solid #ccc; padding: 20px; margin: 20px 0; max-width: 400px; }
        .narrow { max-width: 280px; }
        .turnstile-container {
            width: 100%;
            max-width: 300px;
            margin: 0 auto;
            overflow: hidden;
            border: 1px dashed #999;
            padding: 10px;
        }
        .cf-turnstile {
            width: 100% !important;
            max-width: 100% !important;
            transform-origin: 0 0;
        }
        @media (max-width: 320px) {
            .cf-turnstile {
                transform: scale(0.9);
                transform-origin: 0 0;
            }
            .turnstile-container {
                max-width: 270px;
            }
        }
        @media (max-width: 280px) {
            .cf-turnstile {
                transform: scale(0.8);
                transform-origin: 0 0;
            }
            .turnstile-container {
                max-width: 240px;
            }
        }
    </style>
</head>
<body>
    <h1>Responsive Turnstile Tests</h1>
    
    <div class="test-section">
        <h2>Normal Size (300px width)</h2>
        <div class="turnstile-container">
            <div id="turnstile-normal" class="cf-turnstile"></div>
        </div>
    </div>
    
    <div class="test-section">
        <h2>Flexible Size (300px width)</h2>
        <div class="turnstile-container">
            <div id="turnstile-flexible" class="cf-turnstile"></div>
        </div>
    </div>
    
    <div class="test-section">
        <h2>Compact Size (300px width)</h2>
        <div class="turnstile-container">
            <div id="turnstile-compact" class="cf-turnstile"></div>
        </div>
    </div>
    
    <div class="test-section narrow">
        <h2>Flexible Size (280px width)</h2>
        <div class="turnstile-container">
            <div id="turnstile-flexible-narrow" class="cf-turnstile"></div>
        </div>
    </div>
    
    <div class="test-section narrow">
        <h2>Compact Size (280px width)</h2>
        <div class="turnstile-container">
            <div id="turnstile-compact-narrow" class="cf-turnstile"></div>
        </div>
    </div>

    <script>
        window.onTurnstileLoad = function() {
            console.log('Turnstile loaded, rendering widgets...');
            
            // Normal size
            try {
                const normal = turnstile.render('#turnstile-normal', {
                    sitekey: '0x4AAAAAABlGaWuOOq-13-1A',
                    size: 'normal',
                    theme: 'light'
                });
                console.log('Normal widget rendered:', normal);
            } catch (e) { console.error('Normal render error:', e); }
            
            // Flexible size
            try {
                const flexible = turnstile.render('#turnstile-flexible', {
                    sitekey: '0x4AAAAAABlGaWuOOq-13-1A',
                    size: 'flexible',
                    theme: 'light'
                });
                console.log('Flexible widget rendered:', flexible);
            } catch (e) { console.error('Flexible render error:', e); }
            
            // Compact size
            try {
                const compact = turnstile.render('#turnstile-compact', {
                    sitekey: '0x4AAAAAABlGaWuOOq-13-1A',
                    size: 'compact',
                    theme: 'light'
                });
                console.log('Compact widget rendered:', compact);
            } catch (e) { console.error('Compact render error:', e); }
            
            // Flexible narrow
            try {
                const flexibleNarrow = turnstile.render('#turnstile-flexible-narrow', {
                    sitekey: '0x4AAAAAABlGaWuOOq-13-1A',
                    size: 'flexible',
                    theme: 'light'
                });
                console.log('Flexible narrow widget rendered:', flexibleNarrow);
            } catch (e) { console.error('Flexible narrow render error:', e); }
            
            // Compact narrow
            try {
                const compactNarrow = turnstile.render('#turnstile-compact-narrow', {
                    sitekey: '0x4AAAAAABlGaWuOOq-13-1A',
                    size: 'compact',
                    theme: 'light'
                });
                console.log('Compact narrow widget rendered:', compactNarrow);
            } catch (e) { console.error('Compact narrow render error:', e); }
        };
    </script>
    
    <script src="https://challenges.cloudflare.com/turnstile/v0/api.js?onload=onTurnstileLoad&render=explicit&v=<?php echo time(); ?>" async defer></script>
</body>
</html> 